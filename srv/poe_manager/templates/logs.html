{% extends "base.html" %}
{% block content %}

<h2>Live Log</h2>

<div id="log-box" class="border p-3 bg-light" style="height:500px; overflow:auto; white-space: pre-wrap; font-family: monospace;"></div>

<script>
function fetchLog() {
    fetch("{{ url_for('get_log') }}")
        .then(response => response.text())
        .then(data => {
            document.getElementById("log-box").innerText = data;
            let box = document.getElementById("log-box");
            box.scrollTop = box.scrollHeight;
        });
}
setInterval(fetchLog, 3000);
fetchLog();
</script>

{% endblock %}
