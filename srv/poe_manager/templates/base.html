<!DOCTYPE html>
<html>
<head>
    <title>{{ title or "PoE Manager" }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body class="p-4">

<div class="content-wrapper">

    <!-- Logo + Navbar -->
    <div class="navbar-container">
        <div class="navbar-logo">
            <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo">
        </div>
        <div class="navbar">
            <div class="navbar-buttons btn-group" role="group">
                <a href="{{ url_for('index') }}" class="btn btn-secondary">Dashboard</a>
                <a href="{{ url_for('devices') }}" class="btn btn-secondary">Devices</a>
                {% if current_user.is_admin %}
                    <a href="{{ url_for('switches') }}" class="btn btn-secondary">Switches</a>
                    <a href="{{ url_for('users') }}" class="btn btn-secondary">Users</a>
                    <a href="{{ url_for('logs') }}" class="btn btn-secondary">Live-Log</a>
                    <a href="{{ url_for('settings') }}" class="btn btn-secondary">Settings</a>
                {% endif %}
                <a href="{{ url_for('logout') }}" class="btn btn-danger">Logout</a>
            </div>
        </div>
    </div>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div id="flash-messages" class="mt-2">
          {% for message in messages %}
            <div class="alert alert-info alert-dismissible fade show" role="alert">
              {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <!-- Content -->
    <div>
        {% block content %}{% endblock %}
    </div>

</div>

<script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>
<script>
// Automatisch alle Alerts nach 5 Sekunden ausblenden
document.addEventListener("DOMContentLoaded", function() {
    setTimeout(() => {
        const alerts = document.querySelectorAll('#flash-messages .alert');
        alerts.forEach(alert => {
            bootstrap.Alert.getOrCreateInstance(alert).close();
        });
    }, 5000);
});
</script>
</body>
</html>
